<section class="container">
    <div class="order-container">
        <div class="order">
            <img class="order__images" alt='' src="images/tickets.png">
            <p class="order__title">Book a ticket <br><span class="order__descript">and have fun movie time</span></p>
            <div class="order__control">
                <a href="#" class="order__control-btn active">Purchase</a>
                <a href="#" class="order__control-btn">Reserve</a>
            </div>
        </div>
    </div>
        <div class="order-step-area">
            <div class="order-step first--step">1. What &amp; Where &amp; When</div>
        </div>
        <!--Dsiplay selected movie title-->
        <div>
            <h2 class="page-heading"><b>Selected Movie: {{selectedMovie.title}}</b></h2>
        </div>
        
          <!--Check if the user already selected a movie to display correct message-->
        <div *ngIf = "!selectedMovie">
            <h2 class="page-heading heading--outcontainer">Choose a movie</h2>
        </div>
        
        <div *ngIf = "selectedMovie">
            <h2 class="page-heading heading--outcontainer">Choose another movie</h2>
        </div>
    

    <div class="choose-film">
        <div class="swiper-container" >
        <div class="swiper-wrapper" >
            <!--First Slide-->
            <div *ngFor="let movie of movies" >
            <div  class="swiper-slide" *ngIf="movie.feature == 2 || movie.feature == 3" (click)="updateMovie(movie)"> 
                    <div class="film-images">
                        <img alt='' src={{movie.imagePath}}>
                    </div>
                    <p class="choose-film__title">{{movie.title}}</p>
            </div>
            </div>
        </div>
        <div class="swiper-scrollbar"></div>
        </div>

    </div>

<section class="container">
     <!--Dsiplay selected cinema name-->
        <div >
            <h2 class="page-heading"><b>Selected Cinema: {{selectedCinema.name}}</b></h2>
        </div>
    <!--Check if the user already selected a cinema to display correct message-->
    <div *ngIf = "!selectedCinema">
        <h2 class="page-heading heading--outcontainer">Choose a cinema</h2>
    </div>
    
    <div *ngIf = "selectedCinema">
        <h2 class="page-heading heading--outcontainer">Choose another cinema</h2>
    </div>

    <div class="choose-movie">
        <div class="swiper-container" >
        <div class="swiper-wrapper" >
            <!--First Slide-->
            <div *ngFor="let cinema of cinemas">
                <div class="col-xs-6 col-sm-3 cinema-item name">
                        <div (click)="updateCinema(cinema)" class="cinema">
                            <a class="cinema__images">
                                <img alt='' src="assets/images/cinema/cinema2.jpg">
                            </a>
                            <a class="cinema-title">{{cinema.name}}</a>
                        </div>
                </div>
            </div>>
        </div>
        <div class="swiper-scrollbar"></div>
        </div>
    </div>

   
</section>


<section class="container">
    <div class="col-sm-12">
        <div class="choose-indector choose-indector--film">
            <strong>Choosen: </strong><span class="choosen-area"></span>
        </div>
            <!--Dsiplay selected party time-->
            <div>
                <h2 class="page-heading"><b>Selected Party: {{selectedParty.time}}</b></h2>
            </div>

        
        <h2 class="page-heading">Choose a date</h2>

        <div class="choose-container choose-container--short">

            <div class="datepicker">
              <span class="datepicker__marker"><i class="fa fa-calendar"></i>Date</span>
              <input type="date" id="datepicker" [(ngModel)]="date" >
              
            </div>
            <div class="movie__btns">
                    <a class="btn btn-md btn--warning" (click)="getPartiesAtThisDate(date)">Show Parties <span class="hidden-sm">for this movie</span></a>
              </div>
        </div>

        <h2 class="page-heading">Pick time</h2>

        <div *ngFor = "let party of parties" class="time-select time-select--wide">
                <div class="time-select__group group--first">
                    <div class="col-sm-3">
                        <p class="time-select__place">{{party.cinema_name}}</p>
                    </div>
                    <ul class="col-sm-6 items-wrap">
                        <li class="time-select__item" (click)="updateParty(party)">{{party.time}}</li>
                    </ul>
                </div>

                

                
            </div>

        <div class="choose-indector choose-indector--time">
            <strong>Choosen: </strong><span class="choosen-area"></span>
        </div>
    </div>

</section>
    <div class="booking-pagination booking-pagination--margin">
       
        <a (click)="submitParty()" href="/booking/seating" class="booking-pagination__next">
          <span class="arrow__text arrow--next">next step</span>
          <span class="arrow__info">seating</span>
        </a>
      </div>